## Подключение смартфона или планшета на android для FPV-VR и прочих программ GS к NVR по usb

USB Tethering, он же USB Ethernet - функция ОС Android для использования телефона в качестве USB-модема, представляющегося сетевой картой. Нам это дает возможность соединить телефон и NVR обычным usb-проводом и получить между ними быструю сеть. К сожалению, в большинстве случаев usb terhering доступен только на планшетах с модулем sim-карты. Если у вас его нет, и usb-модем не активируется, придется подключаться по [usb-ethernet](usb-eth-modem.md) или [wifi](note-nvr-tab-ap.md).

Нужно [установить](notes_start_hi3536ev100.md#L47) [ядро](hi3536dv100/uImage.hi3536dv100) и [rootfs](hi3536dv100/rootfs.squashfs.hi3536dv100) с поддержкой rndis_host и залить [`/usr/bin/wifibroadcast`](hi3536dv100/usr/bin/wifibroadcast), [`/usr/bin/telemetry`](hi3536dv100/usr/bin/telemetry), и добавить в [`interfaces`](hi3536dv100/etc/network/interfaces) следующее:
```
#USB Tethering
auto usb0
iface usb0 inet dhcp
    pre-up modprobe rndis_host
    pre-up sleep 4
```

Для включения нужно:
* Подключить смартфон или планшет кабелем к отключенному регистратору
* Зайти в настройки - Сеть и Интернет - Точка доступа и модем
* Включить регистратор
* Как только в меню android появится активным пункт USB-модем, включить его.
* Запустить FPV-VR, выбрать в настройках секцию Manually (stream), установить настройки видео на используемый кодек (rtp/264, rtp/265) и настройки телеметрии на mavlink.
* Выйти из настроек и запустить "Start video and osd".

Альтернативно, можно использовать приложение QOpenHD с аналогичным функционалом.

Также доступен [вариант без перезапуска](nvr_gpio.md) регистратора. 

